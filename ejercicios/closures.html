<html>
  <head>
    <title>Closures</title>
  </head>

  <body>
    <a href="/ejercicios/">Go back</a>
    <p><em>Abre la consola</em></p>

    <script>
      // Closures
      // --------------------------------------------------------------------------------------
      // printColor
      // --------------------------------------------------------------------------------------
      // El problema a continuación es que la variable 'color1' esta disponible globalmante
      // ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
      // let color1 = 'gray';
      // function printColor() {
      //   console.log(color1);
      // }
      // printColor();
      // ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

      // --------------------------------------------------------------------------------------
      // IIFE (Immediately invoked function expression) => Expresión de función ejecutada inmediatamente
      // --------------------------------------------------------------------------------------
      // A continuación se contruye el Closure, el cual no permite que la variable 'color2' este disponible
      // por el scope global
      // ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
      // (function() {
      //   let color2 = 'green';
      //   function printColor() {
      //     console.log(color2);
      //   }
      //   printColor();
      // })();
      // ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

      // --------------------------------------------------------------------------------------
      // Funciones que regresan funciones
      // --------------------------------------------------------------------------------------
      // La función esta recordando el mensaje que se definio por fuera de la función. El closure
      // permite hacer una funcionalidad que el lenguaje no trae.
      // ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
      // function makeColorPrinter(color) {
      //   let colorMessage = `The color is ${color}`;
      //   return function() {
      //     console.log(colorMessage);
      //   };
      // }
      // let greenColorPrinter = makeColorPrinter('green');
      // console.log(greenColorPrinter); // Regresa la función
      // console.log(greenColorPrinter()); // Regresa el valor
      // ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

      // variables "privadas"
      // const counter = {
      //   count: 3,
      // };
      // console.log(counter.count);
      // counter.count = 99;
      // console.log(counter.count);
      // function makeCounter(n) {
      //   let count = n;
      //   return {
      //     increase: function() {
      //       count = count + 1;
      //     },
      //     decrease: function() {
      //       count = count - 1;
      //     },
      //     getCount: function() {
      //       return count;
      //     },
      //   };
      // }
      // let counter = makeCounter(7);
      // console.log('The count is:', counter.getCount());
      // counter.increase();
      // console.log('The count is:', counter.getCount());
      // counter.decrease();
      // counter.decrease();
      // counter.decrease();
      // counter.decrease();
      // console.log('The count is:', counter.getCount());
      // counter.count = 0;
      // console.log('The count is:', counter.getCount());
    </script>
  </body>
</html>
